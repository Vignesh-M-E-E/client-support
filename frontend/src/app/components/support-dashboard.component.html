<div *ngIf="loading">Loading tickets...</div>
<div *ngIf="error" class="error">{{ error }}</div>

<div class="ticket" *ngFor="let ticket of tickets">
  <header>
    <div>
      <h3>{{ ticket.title }}</h3>
      <p class="muted">Client: {{ ticket.clientName }}</p>
    </div>
    <div class="status">
      <label>Status:
        <select [ngModel]="ticket.status" (ngModelChange)="updateStatus(ticket, $event)">
          <option *ngFor="let s of statuses" [value]="s">{{ s }}</option>
        </select>
      </label>
    </div>
  </header>
  <p>{{ ticket.description }}</p>
  <p class="muted" *ngIf="ticket.createdAt">Created: {{ ticket.createdAt | date:'short' }}</p>
</div>

